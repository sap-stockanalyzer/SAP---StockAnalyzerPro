[2025-11-02 20:46:49] üß© Starting Nightly Job ‚Äî StockAnalyzerPro v1.6.0 (Continuous Learning)
[2025-11-02 20:46:53] ‚ÑπÔ∏è No daily snapshots found to merge.
[2025-11-02 20:46:54] üì¶ Rolling cache: 5532 tickers, merged 0 day file(s).
[2025-11-02 20:47:06] üß™ Repairing 125 short histories to ~180 days...
[2025-11-02 20:47:06] ‚ö†Ô∏è Backfill failed (continuing): backfill_symbols() got an unexpected keyword argument 'max_workers'
[2025-11-02 20:47:06] ‚ö†Ô∏è No input JSONs found in stock_cache/daily. Producing empty dataset.
[2025-11-02 20:47:06] ‚ö†Ô∏è metrics_cache/latest_metrics.json not found; skipping merge.
[2025-11-02 20:47:06] ‚úÖ ML dataset built [daily] ‚Äî 0 rows
[2025-11-02 20:47:06]    JSON: ml_data\training_data_daily.json
[2025-11-02 20:47:06]    Parquet: ml_data\training_data_daily.parquet
[2025-11-02 20:47:06] ‚ö†Ô∏è No input JSONs found in stock_cache/daily. Producing empty dataset.
[2025-11-02 20:47:06] ‚ö†Ô∏è metrics_cache/latest_metrics.json not found; skipping merge.
[2025-11-02 20:47:06] ‚úÖ ML dataset built [weekly] ‚Äî 0 rows
[2025-11-02 20:47:06]    JSON: ml_data\training_data_weekly.json
[2025-11-02 20:47:06]    Parquet: ml_data\training_data_weekly.parquet
[2025-11-02 20:47:40] ‚ö†Ô∏è Empty dataset for training
[2025-11-02 20:47:40] ‚úÖ Training complete: {}
[2025-11-02 20:47:40] üåæ Outcome harvest: {'status': 'no_outcomes'}
[2025-11-02 20:47:42] üß† Online trainer: {'status': 'no_outcomes'}
[2025-11-02 20:48:16] ‚ö†Ô∏è Drift skipped (dependency or runtime issue): An empty column 'close' was provided for drift calculation in the reference dataset.
[2025-11-02 20:48:16] ‚ÑπÔ∏è Drift report skipped by checker.
[2025-11-02 20:48:16] ‚úÖ Nightly Job Complete
üìÅ Log file saved ‚Üí ml_data/logs\nightly_20251103.log
[2025-11-02 20:55:42] üß© Starting Nightly Job ‚Äî StockAnalyzerPro v1.6.0 (Continuous Learning)
[2025-11-02 20:55:48] ‚ÑπÔ∏è No daily snapshots found to merge.
[2025-11-02 20:55:48] üì¶ Rolling cache: 5532 tickers, merged 0 day file(s).
[2025-11-02 20:55:54] üß™ Repairing 125 short histories to ~180 days...
üîß Backfilling 5532 tickers to ~180 days...
[2025-11-02 20:56:27] ‚úÖ Saved StockAnalysis bundle ‚Üí metrics_cache/bundle\sa_bundle_2025-11-03.json.gz
[2025-11-02 20:56:27] üì¶ Loaded bundle sa_bundle_2025-11-03.json.gz
[2025-11-02 20:56:28] ‚ö†Ô∏è None of the target features found in bundle.
(1/5532) | 1 updated | ETA 00m 00s(2/5532) | 2 updated | ETA 00m 00s(3/5532) | 3 updated | ETA 00m 00s(4/5532) | 4 updated | ETA 00m 00s(5/5532) | 5 updated | ETA 00m 00s(6/5532) | 6 updated | ETA 00m 00s(7/5532) | 7 updated | ETA 00m 00s(8/5532) | 8 updated | ETA 00m 00s(9/5532) | 9 updated | ETA 00m 00s(10/5532) | 10 updated | ETA 00m 00s(11/5532) | 11 updated | ETA 00m 00s(12/5532) | 12 updated | ETA 00m 00s(13/5532) | 13 updated | ETA 00m 00s(14/5532) | 14 updated | ETA 00m 00s(15/5532) | 15 updated | ETA 00m 00s(16/5532) | 16 updated | ETA 00m 00s(17/5532) | 17 updated | ETA 00m 00s(18/5532) | 18 updated | ETA 00m 00s(19/5532) | 19 updated | ETA 00m 00s(20/5532) | 20 updated | ETA 00m 00s(21/5532) | 21 updated | ETA 00m 00s(22/5532) | 22 updated | ETA 00m 00s(23/5532) | 23 updated | ETA 00m 00s(24/5532) | 24 updated | ETA 00m 00s(25/5532) | 25 updated | ETA 00m 00s(26/5532) | 26 updated | ETA 00m 00s(27/5532) | 27 updated | ETA 00m 00s(28/5532) | 28 updated | ETA 00m 00s(29/5532) | 29 updated | ETA 00m 00s(30/5532) | 30 updated | ETA 00m 00s(31/5532) | 31 updated | ETA 00m 00s(32/5532) | 32 updated | ETA 00m 00s(33/5532) | 33 updated | ETA 00m 00s(34/5532) | 34 updated | ETA 00m 00s(35/5532) | 35 updated | ETA 00m 00s(36/5532) | 36 updated | ETA 00m 00s(37/5532) | 37 updated | ETA 00m 00s(38/5532) | 38 updated | ETA 00m 00s(39/5532) | 39 updated | ETA 00m 00s(40/5532) | 40 updated | ETA 00m 00s(41/5532) | 41 updated | ETA 00m 00s(42/5532) | 42 updated | ETA 00m 00s(43/5532) | 43 updated | ETA 00m 00s(44/5532) | 44 updated | ETA 00m 00s(45/5532) | 45 updated | ETA 00m 00s(46/5532) | 46 updated | ETA 00m 00s(47/5532) | 47 updated | ETA 00m 00s(48/5532) | 48 updated | ETA 00m 00s(49/5532) | 49 updated | ETA 00m 00s(50/5532) | 50 updated | ETA 00m 00s(51/5532) | 51 updated | ETA 00m 00s(52/5532) | 52 updated | ETA 00m 00s(53/5532) | 53 updated | ETA 00m 00s(54/5532) | 54 updated | ETA 00m 00s(55/5532) | 55 updated | ETA 00m 00s(56/5532) | 56 updated | ETA 00m 00s(57/5532) | 57 updated | ETA 00m 00s(58/5532) | 58 updated | ETA 00m 00s(59/5532) | 59 updated | ETA 00m 00s(60/5532) | 60 updated | ETA 00m 00s(61/5532) | 61 updated | ETA 00m 00s(62/5532) | 62 updated | ETA 00m 00s(63/5532) | 63 updated | ETA 00m 00s(64/5532) | 64 updated | ETA 00m 00s(65/5532) | 65 updated | ETA 00m 00s(66/5532) | 66 updated | ETA 00m 00s(67/5532) | 67 updated | ETA 00m 00s(68/5532) | 68 updated | ETA 00m 00s(69/5532) | 69 updated | ETA 00m 00s(70/5532) | 70 updated | ETA 00m 00s(71/5532) | 71 updated | ETA 00m 00s(72/5532) | 72 updated | ETA 00m 00s(73/5532) | 73 updated | ETA 00m 00s(74/5532) | 74 updated | ETA 00m 00s(75/5532) | 75 updated | ETA 00m 00s(76/5532) | 76 updated | ETA 00m 00s(77/5532) | 77 updated | ETA 00m 00s(78/5532) | 78 updated | ETA 00m 00s(79/5532) | 79 updated | ETA 00m 00s(80/5532) | 80 updated | ETA 00m 00s(81/5532) | 81 updated | ETA 00m 00s(82/5532) | 82 updated | ETA 00m 00s(83/5532) | 83 updated | ETA 00m 00s(84/5532) | 84 updated | ETA 00m 00s(85/5532) | 85 updated | ETA 00m 00s(86/5532) | 86 updated | ETA 00m 00s(87/5532) | 87 updated | ETA 00m 00s(88/5532) | 88 updated | ETA 00m 00s(89/5532) | 89 updated | ETA 00m 00s(90/5532) | 90 updated | ETA 00m 00s(91/5532) | 91 updated | ETA 00m 00s(92/5532) | 92 updated | ETA 00m 00s(93/5532) | 93 updated | ETA 00m 00s(94/5532) | 94 updated | ETA 00m 00s(95/5532) | 95 updated | ETA 00m 00s(96/5532) | 96 updated | ETA 00m 00s(97/5532) | 97 updated | ETA 00m 00s(98/5532) | 98 updated | ETA 00m 00s(99/5532) | 99 updated | ETA 00m 00s(100/5532) | 100 updated | ETA 00m 00s(101/5532) | 101 updated | ETA 00m 00s(102/5532) | 102 updated | ETA 00m 00s(103/5532) | 103 updated | ETA 00m 00s(104/5532) | 104 updated | ETA 00m 00s(105/5532) | 105 updated | ETA 00m 00s(106/5532) | 106 updated | ETA 00m 00s(107/5532) | 107 updated | ETA 00m 00s(108/5532) | 108 updated | ETA 00m 00s(109/5532) | 109 updated | ETA 00m 00s(110/5532) | 110 updated | ETA 00m 00s(111/5532) | 111 updated | ETA 00m 00s(112/5532) | 112 updated | ETA 00m 00s(113/5532) | 113 updated | ETA 00m 00s(114/5532) | 114 updated | ETA 00m 00s(115/5532) | 115 updated | ETA 00m 00s(116/5532) | 116 updated | ETA 00m 00s(117/5532) | 117 updated | ETA 00m 00s(118/5532) | 118 updated | ETA 00m 00s(119/5532) | 119 updated | ETA 00m 00s(120/5532) | 120 updated | ETA 00m 00s(121/5532) | 121 updated | ETA 00m 00s(122/5532) | 122 updated | ETA 00m 00s(123/5532) | 123 updated | ETA 00m 00s(124/5532) | 124 updated | ETA 00m 00s(125/5532) | 125 updated | ETA 00m 00s(126/5532) | 126 updated | ETA 00m 00s(127/5532) | 127 updated | ETA 00m 00s(128/5532) | 128 updated | ETA 00m 00s(129/5532) | 129 updated | ETA 00m 00s(130/5532) | 130 updated | ETA 00m 00s(131/5532) | 131 updated | ETA 00m 00s(132/5532) | 132 updated | ETA 00m 00s(133/5532) | 133 updated | ETA 00m 00s(134/5532) | 134 updated | ETA 00m 00s(135/5532) | 135 updated | ETA 00m 00s(136/5532) | 136 updated | ETA 00m 00s(137/5532) | 137 updated | ETA 00m 00s(138/5532) | 138 updated | ETA 00m 00s(139/5532) | 139 updated | ETA 00m 00s(140/5532) | 140 updated | ETA 00m 00s(141/5532) | 141 updated | ETA 00m 00s(142/5532) | 142 updated | ETA 00m 00s(143/5532) | 143 updated | ETA 00m 00s(144/5532) | 144 updated | ETA 00m 00s(145/5532) | 145 updated | ETA 00m 00s(146/5532) | 146 updated | ETA 00m 00s(147/5532) | 147 updated | ETA 00m 00s(148/5532) | 148 updated | ETA 00m 00s(149/5532) | 149 updated | ETA 00m 00s(150/5532) | 150 updated | ETA 00m 00s(151/5532) | 151 updated | ETA 00m 00s(152/5532) | 152 updated | ETA 00m 00s(153/5532) | 153 updated | ETA 00m 00s(154/5532) | 154 updated | ETA 00m 00s(155/5532) | 155 updated | ETA 00m 00s(156/5532) | 156 updated | ETA 00m 00s(157/5532) | 157 updated | ETA 00m 00s(158/5532) | 158 updated | ETA 00m 00s(159/5532) | 159 updated | ETA 00m 00s(160/5532) | 160 updated | ETA 00m 00s(161/5532) | 161 updated | ETA 00m 00s(162/5532) | 162 updated | ETA 00m 00s(163/5532) | 163 updated | ETA 00m 00s(164/5532) | 164 updated | ETA 00m 00s(165/5532) | 165 updated | ETA 00m 00s(166/5532) | 166 updated | ETA 00m 00s(167/5532) | 167 updated | ETA 00m 00s(168/5532) | 168 updated | ETA 00m 00s(169/5532) | 169 updated | ETA 00m 00s(170/5532) | 170 updated | ETA 00m 00s(171/5532) | 171 updated | ETA 00m 00s(172/5532) | 172 updated | ETA 00m 00s(173/5532) | 173 updated | ETA 00m 00s(174/5532) | 174 updated | ETA 00m 00s(175/5532) | 175 updated | ETA 00m 00s(176/5532) | 176 updated | ETA 00m 00s(177/5532) | 177 updated | ETA 00m 05s(178/5532) | 178 updated | ETA 00m 05s(179/5532) | 179 updated | ETA 00m 05s(180/5532) | 180 updated | ETA 00m 05s(181/5532) | 181 updated | ETA 00m 05s(182/5532) | 182 updated | ETA 00m 05s(183/5532) | 183 updated | ETA 00m 05s(184/5532) | 184 updated | ETA 00m 05s(185/5532) | 185 updated | ETA 00m 05s(186/5532) | 186 updated | ETA 00m 05s(187/5532) | 187 updated | ETA 00m 05s(188/5532) | 188 updated | ETA 00m 05s(189/5532) | 189 updated | ETA 00m 05s(190/5532) | 190 updated | ETA 00m 05s(191/5532) | 191 updated | ETA 00m 05s(192/5532) | 192 updated | ETA 00m 05s(193/5532) | 193 updated | ETA 00m 05s(194/5532) | 194 updated | ETA 00m 05s(195/5532) | 195 updated | ETA 00m 05s(196/5532) | 196 updated | ETA 00m 05s(197/5532) | 197 updated | ETA 00m 05s(198/5532) | 198 updated | ETA 00m 05s(199/5532) | 199 updated | ETA 00m 05s(200/5532) | 200 updated | ETA 00m 05s[2025-11-02 20:58:33] 
üíæ Intermediate commit ‚Äî 200 updated
(201/5532) | 201 updated | ETA 00m 05s(202/5532) | 202 updated | ETA 00m 05s(203/5532) | 203 updated | ETA 00m 05s(204/5532) | 204 updated | ETA 00m 05s(205/5532) | 205 updated | ETA 00m 05s(206/5532) | 206 updated | ETA 00m 05s(207/5532) | 207 updated | ETA 00m 05s(208/5532) | 208 updated | ETA 00m 05s(209/5532) | 209 updated | ETA 00m 05s(210/5532) | 210 updated | ETA 00m 05s(211/5532) | 211 updated | ETA 00m 05s(212/5532) | 212 updated | ETA 00m 05s(213/5532) | 213 updated | ETA 00m 05s(214/5532) | 214 updated | ETA 00m 05s(215/5532) | 215 updated | ETA 00m 05s(216/5532) | 216 updated | ETA 00m 05s(217/5532) | 217 updated | ETA 00m 05s(218/5532) | 218 updated | ETA 00m 05s(219/5532) | 219 updated | ETA 00m 05s(220/5532) | 220 updated | ETA 00m 05s(221/5532) | 221 updated | ETA 00m 05s(222/5532) | 222 updated | ETA 00m 05s(223/5532) | 223 updated | ETA 00m 05s(224/5532) | 224 updated | ETA 00m 05s(225/5532) | 225 updated | ETA 00m 05s(226/5532) | 226 updated | ETA 00m 05s(227/5532) | 227 updated | ETA 00m 00s(228/5532) | 228 updated | ETA 00m 00s(229/5532) | 229 updated | ETA 00m 00s(230/5532) | 230 updated | ETA 00m 00s(231/5532) | 231 updated | ETA 00m 00s(232/5532) | 232 updated | ETA 00m 00s(233/5532) | 233 updated | ETA 00m 00s(234/5532) | 234 updated | ETA 00m 00s(235/5532) | 235 updated | ETA 00m 00s(236/5532) | 236 updated | ETA 00m 00s(237/5532) | 237 updated | ETA 00m 00s(238/5532) | 238 updated | ETA 00m 00s(239/5532) | 239 updated | ETA 00m 00s(240/5532) | 240 updated | ETA 00m 00s(241/5532) | 241 updated | ETA 00m 00s(242/5532) | 242 updated | ETA 00m 00s(243/5532) | 243 updated | ETA 00m 00s(244/5532) | 244 updated | ETA 00m 00s(245/5532) | 245 updated | ETA 00m 00s(246/5532) | 246 updated | ETA 00m 00s(247/5532) | 247 updated | ETA 00m 00s(248/5532) | 248 updated | ETA 00m 00s(249/5532) | 249 updated | ETA 00m 00s(250/5532) | 250 updated | ETA 00m 00s(251/5532) | 251 updated | ETA 00m 00s(252/5532) | 252 updated | ETA 00m 00s(253/5532) | 253 updated | ETA 00m 00s(254/5532) | 254 updated | ETA 00m 00s(255/5532) | 255 updated | ETA 00m 00s(256/5532) | 256 updated | ETA 00m 00s(257/5532) | 257 updated | ETA 00m 00s(258/5532) | 258 updated | ETA 00m 00s(259/5532) | 259 updated | ETA 00m 00s(260/5532) | 260 updated | ETA 00m 00s(261/5532) | 261 updated | ETA 00m 00s(262/5532) | 262 updated | ETA 00m 00s(263/5532) | 263 updated | ETA 00m 00s(264/5532) | 264 updated | ETA 00m 00s(265/5532) | 265 updated | ETA 00m 00s(266/5532) | 266 updated | ETA 00m 00s(267/5532) | 267 updated | ETA 00m 00s(268/5532) | 268 updated | ETA 00m 00s(269/5532) | 269 updated | ETA 00m 00s(270/5532) | 270 updated | ETA 00m 00s(271/5532) | 271 updated | ETA 00m 00s(272/5532) | 272 updated | ETA 00m 00s(273/5532) | 273 updated | ETA 00m 00s(274/5532) | 274 updated | ETA 00m 00s(275/5532) | 275 updated | ETA 00m 00s(276/5532) | 276 updated | ETA 00m 00s(277/5532) | 277 updated | ETA 00m 00s(278/5532) | 278 updated | ETA 00m 00s(279/5532) | 279 updated | ETA 00m 00s(280/5532) | 280 updated | ETA 00m 00s(281/5532) | 281 updated | ETA 00m 00s(282/5532) | 282 updated | ETA 00m 00s(283/5532) | 283 updated | ETA 00m 00s(284/5532) | 284 updated | ETA 00m 00s(285/5532) | 285 updated | ETA 00m 00s(286/5532) | 286 updated | ETA 00m 00s(287/5532) | 287 updated | ETA 00m 00s(288/5532) | 288 updated | ETA 00m 00s(289/5532) | 289 updated | ETA 00m 00s(290/5532) | 290 updated | ETA 00m 00s(291/5532) | 291 updated | ETA 00m 00s(292/5532) | 292 updated | ETA 00m 00s(293/5532) | 293 updated | ETA 00m 00s(294/5532) | 294 updated | ETA 00m 00s(295/5532) | 295 updated | ETA 00m 00s(296/5532) | 296 updated | ETA 00m 00s(297/5532) | 297 updated | ETA 00m 00s(298/5532) | 298 updated | ETA 00m 00s(299/5532) | 299 updated | ETA 00m 00s(300/5532) | 300 updated | ETA 00m 00s(301/5532) | 301 updated | ETA 00m 00s(302/5532) | 302 updated | ETA 00m 00s(303/5532) | 303 updated | ETA 00m 00s(304/5532) | 304 updated | ETA 00m 00s(305/5532) | 305 updated | ETA 00m 00s(306/5532) | 306 updated | ETA 00m 00s(307/5532) | 307 updated | ETA 00m 00s(308/5532) | 308 updated | ETA 00m 00s(309/5532) | 309 updated | ETA 00m 00s(310/5532) | 310 updated | ETA 00m 00s(311/5532) | 311 updated | ETA 00m 00s(312/5532) | 312 updated | ETA 00m 00s(313/5532) | 313 updated | ETA 00m 00s(314/5532) | 314 updated | ETA 00m 00s(315/5532) | 315 updated | ETA 00m 00s(316/5532) | 316 updated | ETA 00m 00s(317/5532) | 317 updated | ETA 00m 00s(318/5532) | 318 updated | ETA 00m 00s(319/5532) | 319 updated | ETA 00m 00s(320/5532) | 320 updated | ETA 00m 00s(321/5532) | 321 updated | ETA 00m 00s(322/5532) | 322 updated | ETA 00m 00s(323/5532) | 323 updated | ETA 00m 00s(324/5532) | 324 updated | ETA 00m 00s(325/5532) | 325 updated | ETA 00m 00s(326/5532) | 326 updated | ETA 00m 00s(327/5532) | 327 updated | ETA 00m 00s(328/5532) | 328 updated | ETA 00m 00s(329/5532) | 329 updated | ETA 00m 00s(330/5532) | 330 updated | ETA 00m 00s(331/5532) | 331 updated | ETA 00m 00s(332/5532) | 332 updated | ETA 00m 00s(333/5532) | 333 updated | ETA 00m 00s(334/5532) | 334 updated | ETA 00m 00s(335/5532) | 335 updated | ETA 00m 00s(336/5532) | 336 updated | ETA 00m 00s(337/5532) | 337 updated | ETA 00m 00s(338/5532) | 338 updated | ETA 00m 00s(339/5532) | 339 updated | ETA 00m 00s(340/5532) | 340 updated | ETA 00m 00s(341/5532) | 341 updated | ETA 00m 00s(342/5532) | 342 updated | ETA 00m 00s(343/5532) | 343 updated | ETA 00m 00s(344/5532) | 344 updated | ETA 00m 00s(345/5532) | 345 updated | ETA 00m 00s(346/5532) | 346 updated | ETA 00m 00s(347/5532) | 347 updated | ETA 00m 00s(348/5532) | 348 updated | ETA 00m 00sTraceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\Xaphi\sap_env\backend\nightly_job.py", line 178, in <module>
    _repair_short_histories(min_days=180)
  File "C:\Users\Xaphi\sap_env\backend\nightly_job.py", line 87, in _repair_short_histories
    backfill_symbols(syms, min_days=min_days, max_workers=12)
  File "C:\Users\Xaphi\sap_env\backend\backfill_history.py", line 281, in backfill_symbols
    time.sleep(random.uniform(0.2, 0.6))
KeyboardInterrupt
